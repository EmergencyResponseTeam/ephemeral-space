- type: constructionGraph
  id: ESThruster
  start: start
  graph:
  - node: start
    edges:
    - to: frame
      steps:
      - material: Steel
        amount: 5

  - node: frame
    entity: ESThrusterFrame
    edges:
    - to: frame-gas
      steps:
      - tag: ESThrusterEngineGas
        store: engine
        name: es-construction-graph-tag-thruster-engine-gas
        icon:
          sprite: _ES/Objects/Devices/engine.rsi
          state: icon-gas
      - tool: Screwing
        doAfter: 1
    - to: start
      completed:
      - !type:GivePrototype
        prototype: SheetSteel1
        amount: 5
      - !type:DeleteEntity
      steps:
      - tool: Welding
        doAfter: 5

  - node: frame-gas
    entity: ESThrusterFrame
    edges:
    - to: gas
      steps:
      - material: Steel
        amount: 1
      - tool: Welding
        doAfter: 5
    - to: frame
      steps:
      - tool: Prying
        doAfter: 5
        completed:
        - !type:EmptyContainer
          container: engine

  - node: gas
    entity: ESGasThruster
    actions:
    - !type:DeleteEntitiesInContainer
      container: engine
    edges:
    - to: frame-gas
      steps:
      - tool: Welding
        doAfter: 5
        completed:
        - !type:GivePrototype
          prototype: SheetSteel1

  - node: broken
    entity: ESThrusterBroken
    actions:
    - !type:DeleteEntitiesInContainer
      container: engine
    edges:
    - to: frame
      steps:
      - tool: Welding
        doAfter: 5
